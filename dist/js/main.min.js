function getLocation(){function e(e){var t,n;t=e.coords.latitude,t=Math.round(t).toString(),console.log(t),n=e.coords.longitude,n=Math.round(n).toString(),console.log(n),$(".weather-temperature").openWeather({key:"53f9d8e4213222cf517d86dc406d67fc",lat:t,lon:n,descriptionTarget:".weather-description",windSpeedTarget:".weather-wind-speed",minTemperatureTarget:".weather-min-temperature",maxTemperatureTarget:".weather-max-temperature",humidityTarget:".weather-humidity",sunriseTarget:".weather-sunrise",sunsetTarget:".weather-sunset",placeTarget:".weather-place",iconTarget:".weather-icon",success:function(){$(".sk-three-bounce").addClass("hide"),$(".weather-wrapper").removeClass("hide")},error:function(e){console.log(e)}})}function t(){alert("That's weird! We couldn't find you!")}navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t):alert("Geolocation is not supported")}$(document).ready(function(){getLocation()}),$("#refreshBtn").click(function(){$(".sk-three-bounce").removeClass("hide"),$(".weather-wrapper").addClass("hide"),getLocation()}),function(e){e.fn.openWeather=function(t){if(!this.length)return this;var n,r={descriptionTarget:null,maxTemperatureTarget:null,minTemperatureTarget:null,windSpeedTarget:null,humidityTarget:null,sunriseTarget:null,sunsetTarget:null,placeTarget:null,iconTarget:null,customIcons:null,units:"c",city:null,lat:null,lon:null,key:null,lang:"en",success:function(){},error:function(e){}},a=this,i=e(this);a.settings={},a.settings=e.extend({},r,t);var u=a.settings;n="http://api.openweathermap.org/data/2.5/weather?lang="+u.lang,null!=u.city?n+="&q="+u.city.replace(" ",""):null!=u.lat&&null!=u.lon&&(n+="&lat="+u.lat+"&lon="+u.lon),null!=u.key&&(n+="&appid="+u.key);var o=function(e){var t=1e3*e,n=new Date(t),r=n.getHours();r>12&&(hoursRemaining=24-r,r=12-hoursRemaining);var a=n.getMinutes();a=a.toString(),a.length<2&&(a=0+a);var i=r+":"+a;return i};e.ajax({type:"GET",url:n,dataType:"jsonp",success:function(t){if("f"==u.units)var n=Math.round(1.8*(t.main.temp-273.15)+32)+"°F",r=Math.round(1.8*(t.main.temp_min-273.15)+32)+"°F",a=Math.round(1.8*(t.main.temp_max-273.15)+32)+"°F";else var n=Math.round(t.main.temp-273.15)+"°C",r=Math.round(t.main.temp_min-273.15)+"°C",a=Math.round(t.main.temp_max-273.15)+"°C";if(i.html(n),null!=u.minTemperatureTarget&&e(u.minTemperatureTarget).text(r),null!=u.maxTemperatureTarget&&e(u.maxTemperatureTarget).text(a),e(u.descriptionTarget).text(t.weather[0].description),null!=u.iconTarget&&null!=t.weather[0].icon){var l="http://openweathermap.org/img/w/"+t.weather[0].icon+".png";e(u.iconTarget).attr("src",l)}if(null!=u.placeTarget&&e(u.placeTarget).text(t.name+", "+t.sys.country),null!=u.windSpeedTarget&&e(u.windSpeedTarget).text(Math.round(t.wind.speed)+" Mps"),null!=u.humidityTarget&&e(u.humidityTarget).text(t.main.humidity+"%"),null!=u.sunriseTarget){var s=o(t.sys.sunrise);e(u.sunriseTarget).text(s+" AM")}if(null!=u.sunsetTarget){var c=o(t.sys.sunset);e(u.sunsetTarget).text(c+" PM")}u.success.call(this)},error:function(e,t,n){u.error.call(this,t)}})}}(jQuery);